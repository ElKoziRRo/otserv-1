srcdir = @srcdir@
VPATH = @srcdir@
CXX = @CXX@
CXXFLAGS = @CXXFLAGS@
LDFLAGS = @LDFLAGS@
DEFINES= -D@target_sys@ @DEBUG@
EXEEXT = @EXEEXT@
OBJEXT = @OBJEXT@

SRC = item.cpp player.cpp player_mem.cpp \
items.cpp tmap.cpp \
file.cpp tools.cpp \
protokoll.cpp tprot.cpp tprot65.cpp \
network.cpp otserv.cpp serversocket.cpp \
eventscheduler.cpp tprot69.cpp

ADDFILES = config.log config.status configure Makefile Makefile.bak

OBJS = $(SRC:.cpp=.@OBJEXT@)

all: otserv

.cpp.$(OBJEXT):
	$(CXX) -c $(DEFINES) $(CXXFLAGS) $<

otserv: $(OBJS)
	$(CXX) $(DEFINES) $(CXXFLAGS) -o $@$(EXEEXT) $^ $(LDFLAGS)

depend:
	makedepend -- $(CFLAGS) $(DEFINES) -I/usr/include/g++-3/ -- $(SRC)

clean:
	rm -f $(OBJS)

dist-clean: clean
	rm -f $(ADDFILES)
